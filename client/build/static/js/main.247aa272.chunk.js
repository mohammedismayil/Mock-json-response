(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{25:function(e,t,n){},26:function(e,t,n){},47:function(e,t,n){"use strict";n.r(t);var c=n(1),o=n(20),s=n.n(o),l=(n(25),n(26),n(5)),i=n(6),r=n.n(i),a=(n(45),function(){return r.a.get("/api/MockJsons",{headers:{"Content-Type":"application/json  ","Access-Control-Allow-Origin":"*"}})}),j=function(e){return r.a.get("/api/MockJsons/"+e)},u=function(e,t){return r.a.put("http://localhost:5000/api/mockjsons/"+e,t)},d=function(e){return r.a.post("/api/MockJsons",e)},b=function(e){return r.a.get("/api/MockJsons/deleteAllMocks/")},h=function(e){return r.a.get("/api/MockJsons/backupMocks/")},x=n(2),f=n(7),O=n(0);function p(e){var t=Object(x.g)().id,n=Object(c.useState)(0),o=Object(l.a)(n,2),s=o[0],i=o[1],r=Object(c.useState)(""),a=Object(l.a)(r,2),b=a[0],h=a[1],p=Object(c.useState)(""),g=Object(l.a)(p,2),m=g[0],k=g[1],v=Object(c.useState)(e.isFromEdit),N=Object(l.a)(v,2),y=N[0];N[1];function w(e){console.log("reloading inputs"),k(""),h(e._id)}function C(e){e.preventDefault(),console.log("form submitted"),m&&(!function(e){try{JSON.parse(e)}catch(t){return!1}return!0}(m)?alert("enter a valid json"):y?u(t,{json:m}).then((function(e){return w(e.data)})).catch((function(e){return console.log(e)})):d({json:m}).then((function(e){return w(e.data)})).catch((function(e){return console.log(e)})))}return Object(c.useEffect)((function(){s<1&&setTimeout((function(){i(s+1),function(e){console.log(e),e&&j(e).then((function(e){console.log(e.data),k(JSON.stringify(e.data.json)),h(e.data._id),console.log(JSON.parse(e.data.json))})).catch((function(e){return console.log(e)}))}(t)}),1e3)})),Object(O.jsxs)("div",{className:"content-center justify-center pt-10",children:[y?Object(O.jsx)("h1",{className:"font-bold text-center text-2xl",children:"Edit the json mock"}):Object(O.jsx)("h1",{className:"font-bold text-center text-2xl",children:"Add a new json mock"}),Object(O.jsxs)("div",{className:"m-auto w-1/2 content-center justify-center flex-col pt-10",children:[Object(O.jsx)("div",{children:Object(O.jsx)("textarea",{value:m,onChange:function(e){k(e.target.value)},name:"json",placeholder:"JSON (required)",className:"h-40 w-full border border-green-800 px-2 py-2"})}),Object(O.jsx)("div",{className:"flex content-center justify-center",children:Object(O.jsx)("div",{className:"content-center justify-center",children:y?Object(O.jsx)("button",{disabled:!m,onClick:C,className:"bg-blue-700 rounded-sm text-white px-5 py-2 content-center justify-center w-24 mt-10",children:"Edit"}):Object(O.jsx)("button",{disabled:!m,onClick:C,className:"bg-green-700 rounded-lg text-white px-5 py-2 content-center justify-center w-24 mt-10",children:"Add"})})})]}),b.length>0?Object(O.jsxs)("div",{children:[Object(O.jsx)("h2",{children:"Check out your mock json here:"}),Object(O.jsxs)(f.b,{to:"/"+b,children:["http://localhost:3000/",b]})]}):Object(O.jsx)("div",{})]})}var g=function(){return Object(O.jsx)(p,{})},m=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,48)).then((function(t){var n=t.getCLS,c=t.getFID,o=t.getFCP,s=t.getLCP,l=t.getTTFB;n(e),c(e),o(e),s(e),l(e)}))};function k(){var e=Object(c.useState)([]),t=Object(l.a)(e,2),n=t[0],o=t[1];return Object(c.useEffect)((function(){0==n.length&&a().then((function(e){console.log(e.data),o(e.data)})).catch((function(e){return console.log(e)}))})),Object(O.jsxs)("div",{children:[Object(O.jsx)("h1",{children:"Mocks"}),n.map((function(e,t){return Object(O.jsxs)("div",{children:[Object(O.jsx)("h2",{children:e._id}),Object(O.jsxs)(f.b,{to:"/"+e._id,children:["http://localhost:5000/",e._id]}),Object(O.jsx)(f.b,{to:"/edit/"+e._id,children:Object(O.jsx)("button",{children:"Edit"})})]})}))]})}function v(){return Object(O.jsx)("div",{className:" flex content-center justify-center rounded-2xl w-1/4 container p-10 bg-gray-300 m-auto mt-10",children:Object(O.jsxs)("div",{className:"content-center justify-center",children:[Object(O.jsx)("h1",{className:"font-bold text-3xl text-center",children:"Admin"}),Object(O.jsxs)("div",{className:"",children:[Object(O.jsx)("div",{children:Object(O.jsx)("button",{className:"bg-purple-500 pl-5 pr-5 pt-2 pb-2 mt-5 rounded-lg text-white w-full",onClick:function(){console.log("pro logging-- deleting the entire collection"),h().then((function(e){return console.log("backedup  all mocks")})).catch((function(e){return console.log(e)}))},children:"Download Backup"})}),Object(O.jsx)("div",{children:Object(O.jsx)("button",{className:"bg-white pl-5 pr-5 pt-2 pb-2 mt-5 rounded-lg text-purple-500 w-full",onClick:function(){console.log("pro logging-- deleting the entire collection"),b().then((function(e){return console.log("deleting all mocks")})).catch((function(e){return console.log(e)}))},children:"Delete all mocks"})})]})]})})}s.a.render(Object(O.jsx)(f.a,{children:Object(O.jsxs)(x.c,{children:[Object(O.jsx)(x.a,{exact:!0,path:"/",element:Object(O.jsx)(g,{})}),Object(O.jsx)(x.a,{path:"/v0.1/:id",element:Object(O.jsx)(p,{})}),Object(O.jsx)(x.a,{path:"/allmocks",element:Object(O.jsx)(k,{})}),Object(O.jsx)(x.a,{path:"/admin",element:Object(O.jsx)(v,{})}),Object(O.jsx)(x.a,{path:"/edit/:id",element:Object(O.jsx)(p,{isFromEdit:!0,hey:"oioioi"})})]})}),document.getElementById("root")),m()}},[[47,1,2]]]);
//# sourceMappingURL=main.247aa272.chunk.js.map